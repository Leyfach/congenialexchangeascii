# Performance & Internationalization Guide

## üöÄ –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ú–æ–¥—É–ª—å**: `backend/services/cache/RedisCache.js`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (TTL: 5 –º–∏–Ω)
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Å—Å–∏–π (TTL: 1 —á–∞—Å)
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (TTL: 30 –º–∏–Ω)
  - Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã API
  - Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis

### Database Connection Pooling
- **–£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**: 50 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–±—ã–ª–æ 20)
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**: 5
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã**: —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ
- **Keep-alive**: –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∞–∫—Ç–∏–≤–Ω—ã–º–∏

### –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: email, username, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- **–ë–∞–ª–∞–Ω—Å—ã**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å+–≤–∞–ª—é—Ç–∞, –≤–∞–ª—é—Ç–∞, –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–û—Ä–¥–µ—Ä–∞**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å+—Å—Ç–∞—Ç—É—Å, –ø–∞—Ä–∞+—Å—Ç–∞—Ç—É—Å, —Ü–µ–Ω–∞+—Å—Ç–æ—Ä–æ–Ω–∞
- **–°–¥–µ–ª–∫–∏**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å+–¥–∞—Ç–∞, –ø–∞—Ä–∞+–¥–∞—Ç–∞, –æ—Ä–¥–µ—Ä
- **–î–µ–ø–æ–∑–∏—Ç—ã/–í—ã–≤–æ–¥—ã**: —Å—Ç–∞—Ç—É—Å, —Ö–µ—à —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- **–ß–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã**: —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

### WebSocket –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ú–æ–¥—É–ª—å**: `backend/services/trading/WebSocketManagerWithRedis.js`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - Redis pub/sub –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
  - Heartbeat –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ order book'–æ–≤
  - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤

## üåç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–∏—Ö —è–∑—ã–∫–æ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏
- **–ê–Ω–≥–ª–∏–π—Å–∫–∏–π** (en) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–†—É—Å—Å–∫–∏–π** (ru) - –ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- **–ö–∏—Ç–∞–π—Å–∫–∏–π** (zh) - –ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- **–ß–µ—à—Å–∫–∏–π** (cs) - –ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- **–ö–∞–∑–∞—Ö—Å–∫–∏–π** (kk) - –ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
```
frontend/src/i18n/
‚îú‚îÄ‚îÄ index.js          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è i18n
‚îî‚îÄ‚îÄ locales/
    ‚îú‚îÄ‚îÄ en.json       # –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
    ‚îú‚îÄ‚îÄ ru.json       # –†—É—Å—Å–∫–∏–π
    ‚îú‚îÄ‚îÄ zh.json       # –ö–∏—Ç–∞–π—Å–∫–∏–π
    ‚îú‚îÄ‚îÄ cs.json       # –ß–µ—à—Å–∫–∏–π
    ‚îî‚îÄ‚îÄ kk.json       # –ö–∞–∑–∞—Ö—Å–∫–∏–π
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- **common**: –æ–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è)
- **nav**: –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **auth**: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- **dashboard**: –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **trading**: —Ç–æ—Ä–≥–æ–≤–ª—è
- **wallet**: –∫–æ—à–µ–ª–µ–∫
- **account**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
- **security**: –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **markets**: —Ä—ã–Ω–∫–∏
- **errors**: —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- **success**: —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ
- **time**: –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

#### –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
```jsx
import { useTranslation } from 'react-i18next'

function MyComponent() {
  const { t } = useTranslation()
  
  return (
    <div>
      <h1>{t('dashboard.title')}</h1>
      <button>{t('common.save')}</button>
    </div>
  )
}
```

#### –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
```jsx
{t('trading.placeOrder', { type: 'BUY' })}
{t('wallet.minimumWithdrawal', { amount: '0.001', currency: 'BTC' })}
```

#### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ
```jsx
{t('time.minutesAgo', { count: 5 })} // "5 minutes ago"
```

### –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `frontend/src/components/common/LanguageSwitch.jsx`
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –≤ Header —Å–ø—Ä–∞–≤–∞ –æ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤ localStorage
  - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ —Å—Ç—Ä–∞–Ω

## üìÅ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- `backend/services/cache/RedisCache.js` - –Ω–æ–≤—ã–π
- `backend/services/price-data/priceService.js` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `backend/services/trading/WebSocketManagerWithRedis.js` - –Ω–æ–≤—ã–π
- `backend/database/postgres.js` - –æ–±–Ω–æ–≤–ª–µ–Ω

### Frontend (i18n)
- `frontend/src/i18n/` - –Ω–æ–≤–∞—è –ø–∞–ø–∫–∞
- `frontend/src/components/common/LanguageSwitch.jsx` - –Ω–æ–≤—ã–π
- `frontend/src/components/common/Header.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `frontend/src/components/auth/Login.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `frontend/src/components/auth/Register.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `frontend/src/pages/DashboardPage.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `frontend/src/pages/TradingPage.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `frontend/src/pages/WalletPage.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `frontend/src/components/trading/OrderForm.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `frontend/src/main.jsx` - –æ–±–Ω–æ–≤–ª–µ–Ω

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis
# Windows: —Å–∫–∞—á–∞—Ç—å —Å https://redis.io/download
# Linux: apt install redis-server
# macOS: brew install redis

# –ó–∞–ø—É—Å–∫ Redis
redis-server

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_password
REDIS_DB=0
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
DB_POOL_MAX=50
DB_POOL_MIN=5
```

### –Ø–∑—ã–∫–∏
–Ø–∑—ã–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º. –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
localStorage.setItem('i18nextLng', 'ru')
window.location.reload()
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π
- –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π DB: 20
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ–µ
- WebSocket: –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä
- –ò–Ω–¥–µ–∫—Å—ã: –±–∞–∑–æ–≤—ã–µ

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π
- –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π DB: 50
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: Redis + –ª–æ–∫–∞–ª—å–Ω–æ–µ
- WebSocket: –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ
- –ò–Ω–¥–µ–∫—Å—ã: –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ + —á–∞—Å—Ç–∏—á–Ω—ã–µ

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API**: -50-70%
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: +200-300%
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å WebSocket**: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

## üåê –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤

1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –ø–µ—Ä–µ–≤–æ–¥–∞:
   ```bash
   cp frontend/src/i18n/locales/en.json frontend/src/i18n/locales/fr.json
   ```

2. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ

3. –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```javascript
   // frontend/src/i18n/index.js
   import frTranslations from './locales/fr.json'
   
   const resources = {
     // ...
     fr: { translation: frTranslations }
   }
   ```

4. –î–æ–±–∞–≤–∏—Ç—å –≤ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤:
   ```javascript
   // frontend/src/components/common/LanguageSwitch.jsx
   const languages = [
     // ...
     { code: 'fr', name: 'Fran√ßais', flag: 'üá´üá∑' }
   ]
   ```

## üö¶ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```bash
# –¢–µ—Å—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ Redis
redis-benchmark -h localhost -p 6379 -n 100000

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î
psql -c "SELECT count(*) FROM pg_stat_activity;"
```

### i18n
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —è–∑—ã–∫ —á–µ—Ä–µ–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –≤—ã—Å–æ–∫–∏–º –Ω–∞–≥—Ä—É–∑–∫–∞–º! üéâ